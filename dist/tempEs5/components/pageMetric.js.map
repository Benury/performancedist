{"version":3,"sources":["../../tempCollect/components/pageMetric.js"],"names":["pageMetricComponent","init","persistanceEnabled","persistance","chartHolder","dom","newTag","appendChild","text","persistDataCheckboxLabel","persistDataCheckbox","type","id","checked","printDataButton","disabled","addEventListener","evt","target","activatePersistance","window","confirm","deactivatePersistance","insertBefore","firstChild","dump","saveLatestMetrics"],"mappings":";;;;;;;AAIA;;AACA;;;;AALA;;;AAOA,IAAMA,mBAAmB,GAAG,EAA5B,C,CAIA;;AACAA,mBAAmB,CAACC,IAApB,GAA2B,YAAM;AAChC;AACA,MAAMC,kBAAkB,GAAGC,wBAAYD,kBAAZ,EAA3B;;AAEA,MAAME,WAAW,GAAGC,gBAAIC,MAAJ,CAAW,SAAX,EAAsB;AACzC,aAAQ;AADiC,GAAtB,CAApB;;AAGAF,EAAAA,WAAW,CAACG,WAAZ,CAAwBF,gBAAIC,MAAJ,CAAW,IAAX,EAAiB;AAACE,IAAAA,IAAI,EAAG;AAAR,GAAjB,CAAxB;;AAEA,MAAMC,wBAAwB,GAAGJ,gBAAIC,MAAJ,CAAW,OAAX,EAAoB;AAACE,IAAAA,IAAI,EAAG;AAAR,GAApB,CAAjC;;AACA,MAAME,mBAAmB,GAAGL,gBAAIC,MAAJ,CAAW,OAAX,EAAoB;AAC/CK,IAAAA,IAAI,EAAG,UADwC;AAE/CC,IAAAA,EAAE,EAAG,uBAF0C;AAG/CC,IAAAA,OAAO,EAAGX;AAHqC,GAApB,CAA5B;;AAKA,MAAMY,eAAe,GAAGT,gBAAIC,MAAJ,CAAW,QAAX,EAAqB;AAACE,IAAAA,IAAI,EAAG,sBAAR;AAAgCO,IAAAA,QAAQ,EAAE,CAACb;AAA3C,GAArB,CAAxB,CAfgC,CAiBhC;;;AACAQ,EAAAA,mBAAmB,CAACM,gBAApB,CAAqC,QAArC,EAA+C,UAACC,GAAD,EAAS;AACvD,QAAMJ,OAAO,GAAGI,GAAG,CAACC,MAAJ,CAAWL,OAA3B;;AACA,QAAGA,OAAH,EAAW;AACVV,8BAAYgB,mBAAZ;;AACAL,MAAAA,eAAe,CAACC,QAAhB,GAA2B,KAA3B;AACA,KAHD,MAGM,IAAGK,MAAM,CAACC,OAAP,CAAe,oCAAf,CAAH,EAAwD;AAC7DlB,8BAAYmB,qBAAZ;;AACAR,MAAAA,eAAe,CAACC,QAAhB,GAA2B,IAA3B;AACA,KAHK,MAGC;AACNE,MAAAA,GAAG,CAACC,MAAJ,CAAWL,OAAX,GAAqB,IAArB;AACA;AACD,GAXD;AAYAJ,EAAAA,wBAAwB,CAACc,YAAzB,CAAsCb,mBAAtC,EAA2DD,wBAAwB,CAACe,UAApF;AAEAV,EAAAA,eAAe,CAACE,gBAAhB,CAAiC,OAAjC,EAA0C,UAACC,GAAD,EAAS;AAClDd,4BAAYsB,IAAZ,CAAiB,KAAjB;AACA,GAFD;AAIArB,EAAAA,WAAW,CAACG,WAAZ,CAAwBE,wBAAxB;AACAL,EAAAA,WAAW,CAACG,WAAZ,CAAwBO,eAAxB;;AAEA,MAAGZ,kBAAH,EAAsB;AACrBC,4BAAYuB,iBAAZ;AACA;;AAED,SAAOtB,WAAP;AACA,CA5CD;;eAgDeJ,mB","sourcesContent":["/*\r\nSection to allow persistance of subset values\r\n*/\r\n\r\nimport dom from \"../helpers/dom\";\r\nimport persistance from \"../helpers/persistance\"\r\n\r\nconst pageMetricComponent = {};\r\n\r\n\r\n\r\n//init UI\r\npageMetricComponent.init = () => {\r\n\t//persistance is off by default\r\n\tconst persistanceEnabled = persistance.persistanceEnabled();\r\n\r\n\tconst chartHolder = dom.newTag(\"section\", {\r\n\t\tclass : \"page-metric chart-holder\"\r\n\t});\r\n\tchartHolder.appendChild(dom.newTag(\"h3\", {text : \"Persist Data\"}));\r\n\r\n\tconst persistDataCheckboxLabel = dom.newTag(\"label\", {text : \" Persist Data?\"});\r\n\tconst persistDataCheckbox = dom.newTag(\"input\", {\r\n\t\ttype : \"checkbox\",\r\n\t\tid : \"persist-data-checkbox\",\r\n\t\tchecked : persistanceEnabled\r\n\t});\r\n\tconst printDataButton = dom.newTag(\"button\", {text : \"Dumb data to console\", disabled: !persistanceEnabled});\r\n\r\n\t//hook up events\r\n\tpersistDataCheckbox.addEventListener(\"change\", (evt) => {\r\n\t\tconst checked = evt.target.checked;\r\n\t\tif(checked){\r\n\t\t\tpersistance.activatePersistance();\r\n\t\t\tprintDataButton.disabled = false;\r\n\t\t}else if(window.confirm(\"this will wipe out all stored data\")){\r\n\t\t\tpersistance.deactivatePersistance();\r\n\t\t\tprintDataButton.disabled = true;\r\n\t\t} else {\r\n\t\t\tevt.target.checked = true;\r\n\t\t}\r\n\t});\r\n\tpersistDataCheckboxLabel.insertBefore(persistDataCheckbox, persistDataCheckboxLabel.firstChild);\r\n\r\n\tprintDataButton.addEventListener(\"click\", (evt) => {\r\n\t\tpersistance.dump(false);\r\n\t});\r\n\r\n\tchartHolder.appendChild(persistDataCheckboxLabel);\r\n\tchartHolder.appendChild(printDataButton);\r\n\r\n\tif(persistanceEnabled){\r\n\t\tpersistance.saveLatestMetrics();\r\n\t}\r\n\r\n\treturn chartHolder;\r\n};\r\n\r\n\r\n\r\nexport default pageMetricComponent;\r\n"],"file":"pageMetric.js"}