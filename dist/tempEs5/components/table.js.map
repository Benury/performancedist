{"version":3,"sources":["../../tempCollect/components/table.js"],"names":["tableComponent","init","output","data","requestsOnly","reduce","collectObj","currR","fileTypeData","fileType","initiatorTypeData","initiatorType","count","isRequestToHost","requestsToHost","requestsToExternal","sectionHolder","dom","newTag","appendChild","text","tableFactory","theadTr","forEach","x","width","indexOf","tbody","Object","keys","key","i","initiatorTypeKeys","firstinitiatorTypeKey","rowspan","length","tr","val","settings","rowSpan","slice","initiatorTypeKey","tr2"],"mappings":"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","sourcesContent":["/*\r\nLogic for Request analysis table\r\n*/\r\n\r\nimport data from \"../data\";\r\nimport dom from \"../helpers/dom\";\r\n\r\nconst tableComponent = {};\r\n\r\ntableComponent.init = () => {\r\n\r\n\tconst output = data.requestsOnly.reduce((collectObj, currR) => {\r\n\t\tlet fileTypeData = collectObj[currR.fileType],\r\n\t\t\tinitiatorTypeData;\r\n\r\n\t\tif(!fileTypeData){\r\n\t\t\tfileTypeData = collectObj[currR.fileType] = {\r\n\t\t\t\t\"fileType\" : currR.fileType,\r\n\t\t\t\t\"count\" : 0,\r\n\t\t\t\t\"initiatorType\" : {},\r\n\t\t\t\t\"requestsToHost\" : 0,\r\n\t\t\t\t\"requestsToExternal\" : 0\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tinitiatorTypeData = fileTypeData.initiatorType[currR.initiatorType];\r\n\t\tif(!initiatorTypeData){\r\n\t\t\tinitiatorTypeData = fileTypeData.initiatorType[currR.initiatorType] = {\r\n\t\t\t\t\"initiatorType\" : currR.initiatorType,\r\n\t\t\t\t\"count\" : 0,\r\n\t\t\t\t\"requestsToHost\" : 0,\r\n\t\t\t\t\"requestsToExternal\" : 0\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfileTypeData.count++;\r\n\t\tinitiatorTypeData.count++;\r\n\r\n\t\tif(currR.isRequestToHost){\r\n\t\t\tfileTypeData.requestsToHost++;\r\n\t\t\tinitiatorTypeData.requestsToHost++;\r\n\t\t}else{\r\n\t\t\tfileTypeData.requestsToExternal++;\r\n\t\t\tinitiatorTypeData.requestsToExternal++;\r\n\t\t}\r\n\r\n\t\treturn collectObj;\r\n\t}, {});\r\n\r\n\tconst sectionHolder = dom.newTag(\"section\", {\r\n\t\tclass : \"table-section-holder chart-holder\"\r\n\t});\r\n\tsectionHolder.appendChild(dom.newTag(\"h1\", {text : \"Request FileTypes & Initiators\"}));\r\n\r\n\r\n\tsectionHolder.appendChild(dom.tableFactory(\"filetypes-and-intiators-table\", (theadTr) => {\r\n\t\t\t[\r\n\t\t\t\t\"FileType\",\r\n\t\t\t\t\"Count\",\r\n\t\t\t\t\"Count Internal\",\r\n\t\t\t\t\"Count External\",\r\n\t\t\t\t\"Initiator Type\",\r\n\t\t\t\t\"Count by Initiator Type\",\r\n\t\t\t\t\"Initiator Type Internal\",\r\n\t\t\t\t\"Initiator Type External\"\r\n\t\t\t].forEach((x) => {\r\n\t\t\t\ttheadTr.appendChild(dom.newTag(\"th\", {\r\n\t\t\t\t\ttext : x,\r\n\t\t\t\t\twidth : (x.indexOf(\"ternal\") > 0) ? \"12%\" : \"\"\r\n\t\t\t\t}));\r\n\t\t\t});\r\n\t\t\treturn theadTr;\r\n\r\n\t\t}, (tbody) => {\r\n\t\t\tObject.keys(output).forEach((key, i) => {\r\n\t\t\t\tconst fileTypeData = output[key],\r\n\t\t\t\t\tinitiatorTypeKeys = Object.keys(fileTypeData.initiatorType),\r\n\t\t\t\t\tfirstinitiatorTypeKey = fileTypeData.initiatorType[initiatorTypeKeys[0]],\r\n\t\t\t\t\trowspan = initiatorTypeKeys.length;\r\n\r\n\t\t\t\tconst tr = dom.newTag(\"tr\", {\r\n\t\t\t\t\tclass : \"file-type-row \" + (fileTypeData.fileType||\"other\") + \"-light\"\r\n\t\t\t\t});\r\n\r\n\t\t\t\t[\r\n\t\t\t\t\tfileTypeData.fileType,\r\n\t\t\t\t\tfileTypeData.count,\r\n\t\t\t\t\tfileTypeData.requestsToHost,\r\n\t\t\t\t\tfileTypeData.requestsToExternal,\r\n\t\t\t\t\tfirstinitiatorTypeKey.initiatorType,\r\n\t\t\t\t\tfirstinitiatorTypeKey.count,\r\n\t\t\t\t\tfirstinitiatorTypeKey.requestsToHost,\r\n\t\t\t\t\tfirstinitiatorTypeKey.requestsToExternal,\r\n\r\n\t\t\t\t].forEach((val, i) => {\r\n\t\t\t\t\tconst settings = {\r\n\t\t\t\t\t\ttext : val\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif(i < 4 && initiatorTypeKeys.length > 1){\r\n\t\t\t\t\t\tsettings.rowSpan = rowspan;\r\n\t\t\t\t\t}else if(i >= 4){\r\n\t\t\t\t\t\tsettings.class = (initiatorTypeKeys[0]||\"other\") + \"-light\";\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttr.appendChild(dom.newTag(\"td\", settings));\r\n\t\t\t\t});\r\n\r\n\t\t\t\ttbody.appendChild(tr);\r\n\r\n\t\t\t\tinitiatorTypeKeys.slice(1).forEach((initiatorTypeKey) => {\r\n\t\t\t\t\tconst initiatorTypeData = fileTypeData.initiatorType[initiatorTypeKey];\r\n\t\t\t\t\tconst tr2 = dom.newTag(\"tr\", {\r\n\t\t\t\t\t\tclass : \"initiator-type-more \" + (initiatorTypeKey||\"other\") + \"-light\"\r\n\t\t\t\t\t});\r\n\t\t\t\t\ttr2.appendChild(dom.newTag(\"td\", {\r\n\t\t\t\t\t\ttext : initiatorTypeKey\r\n\t\t\t\t\t}));\r\n\t\t\t\t\ttr2.appendChild(dom.newTag(\"td\", {\r\n\t\t\t\t\t\ttext : initiatorTypeData.count\r\n\t\t\t\t\t}));\r\n\t\t\t\t\ttr2.appendChild(dom.newTag(\"td\", {\r\n\t\t\t\t\t\ttext : initiatorTypeData.requestsToHost\r\n\t\t\t\t\t}));\r\n\t\t\t\t\ttr2.appendChild(dom.newTag(\"td\", {\r\n\t\t\t\t\t\ttext : initiatorTypeData.requestsToExternal\r\n\t\t\t\t\t}));\r\n\r\n\t\t\t\t\ttbody.appendChild(tr2)\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\treturn tbody;\r\n\t}));\r\n\r\n\treturn sectionHolder;\r\n}\r\n\r\nexport default tableComponent;\r\n"],"file":"table.js"}