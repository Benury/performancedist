{"version":3,"sources":["../../tempCollect/components/summaryTiles.js"],"names":["summaryTilesComponent","init","createTile","title","value","titleFontSize","dl","dom","newTag","appendChild","childElement","createAppendixDefValue","a","definition","text","tilesHolder","appendix","console","log","data","requestsOnly","length","requestsByDomain","combineNodes","hostSubdomains","location","host","hostRequests","currAndSubdomainRequests","slowestCalls","duration","perfTiming","domContentLoadedEventStart","domLoading","responseStart","navigationStart","domComplete","forEach","tile","allResourcesCalc","name","Math","floor","average","split","slice","join","newTextNode","document","domain"],"mappings":"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","sourcesContent":["/*\r\nTiles to summarize page performance\r\n*/\r\n\r\nimport data from \"../data\";\r\nimport dom from \"../helpers/dom\";\r\n\r\nconst summaryTilesComponent = {};\r\n\r\n\r\nsummaryTilesComponent.init = () => {\r\n\r\n\tconst createTile = (title, value, titleFontSize) => {\r\n\t\ttitleFontSize = titleFontSize || 60;\r\n\t\tconst dl = dom.newTag(\"dl\", {\r\n\t\t\tclass : \"summary-tile\"\r\n\t\t});\r\n\t\tdl.appendChild(dom.newTag(\"dt\", {childElement : title}));\r\n\t\tdl.appendChild(dom.newTag(\"dd\", {childElement : value}, \"font-size:\"+titleFontSize+\"px;\"));\r\n\t\treturn dl;\r\n\t};\r\n\r\n\tconst createAppendixDefValue = (a, definition, value) => {\r\n\t\ta.appendChild(dom.newTag(\"dt\", {childElement : definition}));\r\n\t\ta.appendChild(dom.newTag(\"dd\", {text : value}));\r\n\t};\r\n\r\n\tconst tilesHolder = dom.newTag(\"section\", {\r\n\t\tclass : \"tiles-holder chart-holder\"\r\n\t});\r\n\tconst appendix = dom.newTag(\"dl\", {\r\n\t\tclass : \"summary-tile-appendix\"\r\n\t});\r\n\tconsole.log(data);\r\n\t[\r\n\t\tcreateTile(\"Requests\", data.requestsOnly.length||\"0\"),\r\n\t\tcreateTile(\"Domains\", data.requestsByDomain.length||\"0\"),\r\n\t\tcreateTile(dom.combineNodes(\"Subdomains of \", dom.newTag(\"abbr\", {title : \"Top Level Domain\", text : \"TLD\"})), data.hostSubdomains||\"0\"),\r\n\t\tcreateTile(dom.combineNodes(\"Requests to \", dom.newTag(\"span\", {title : location.host, text : \"Host\"})), data.hostRequests||\"0\"),\r\n\t\tcreateTile(dom.combineNodes(dom.newTag(\"abbr\", {title : \"Top Level Domain\", text : \"TLD\"}), \" & Subdomain Requests\"), data.currAndSubdomainRequests||\"0\"),\r\n\t\tcreateTile(\"Total\", (data.slowestCalls[0].duration + data.perfTiming.domContentLoadedEventStart - data.perfTiming.domLoading) + \"ms\", 40),\r\n\t\tcreateTile(\"Time to First Byte\", data.perfTiming.responseStart - data.perfTiming.navigationStart + \"ms\", 40),\r\n\t\tcreateTile(dom.newTag(\"span\", {title : \"domLoading to domContentLoadedEventStart\", text : \"DOM Content Loading\"}), data.perfTiming.domContentLoadedEventStart - data.perfTiming.domLoading + \"ms\", 40),\r\n\t\tcreateTile(dom.newTag(\"span\", {title : \"domLoading to loadEventStart\", text : \"DOM Processing\"}), data.perfTiming.domComplete - data.perfTiming.domLoading + \"ms\", 40)\r\n\t].forEach(tile => {\r\n\t\ttilesHolder.appendChild(tile);\r\n\t});\r\n\r\n\tif(data.allResourcesCalc.length > 0){\r\n\t\ttilesHolder.appendChild(createTile(dom.newTag(\"span\", {title : data.slowestCalls[0].name, text : \"Slowest Call\"}), dom.newTag(\"span\", {title : data.slowestCalls[0].name, text : Math.floor(data.slowestCalls[0].duration) + \"ms\"}), 40));\r\n\t\ttilesHolder.appendChild(createTile(\"Average Call\", data.average + \"ms\", 40));\r\n\t}\r\n\r\n\tcreateAppendixDefValue(appendix, dom.newTag(\"abbr\", {title : \"Top Level Domain\", text : \"TLD\"}, location.host.split(\".\").slice(-2).join(\".\")));\r\n\tcreateAppendixDefValue(appendix, dom.newTextNode(\"Host:\"), location.host);\r\n\tcreateAppendixDefValue(appendix, dom.newTextNode(\"document.domain:\"), document.domain);\r\n\r\n\ttilesHolder.appendChild(appendix);\r\n\treturn tilesHolder;\r\n};\r\n\r\nexport default summaryTilesComponent;\r\n"],"file":"summaryTiles.js"}