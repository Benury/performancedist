{"version":3,"sources":["../../tempCollect/helpers/helpers.js"],"names":["helper","getFileType","fileExtension","initiatorType","getRandomColor","baseRangeRed","baseRangeGreen","baseRangeBlue","range","color","r","i","Math","floor","split","random","length","endsWith","str","suffix","indexOf","getColourVariation","hexColour","variation","parseInt","substr","toString","g","b","getInitiatorOrFileTypeColour","initiatorOrFileType","fallbackColour","colour","getItemCount","arr","keyName","counts","resultArr","obj","forEach","key","fe","count","push","sort","a","clone","copy","Date","setTime","getTime","Array","len","Object","attr","hasOwnProperty","Error"],"mappings":"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","sourcesContent":["/*\r\nMisc helpers\r\n*/\r\n\r\nconst helper = {};\r\n\r\n//extract a resources file type\r\nhelper.getFileType = (fileExtension, initiatorType) => {\r\n\tif(fileExtension){\r\n\t\tswitch(fileExtension){\r\n\t\t\tcase \"jpg\" :\r\n\t\t\tcase \"jpeg\" :\r\n\t\t\tcase \"png\" :\r\n\t\t\tcase \"gif\" :\r\n\t\t\tcase \"webp\" :\r\n\t\t\tcase \"svg\" :\r\n\t\t\tcase \"ico\" :\r\n\t\t\t\treturn \"image\";\r\n\t\t\tcase \"js\" :\r\n\t\t\t\treturn \"js\"\r\n\t\t\tcase \"css\":\r\n\t\t\t\treturn \"css\"\r\n\t\t\tcase \"html\":\r\n\t\t\t\treturn \"html\"\r\n\t\t\tcase \"woff\":\r\n\t\t\tcase \"woff2\":\r\n\t\t\tcase \"ttf\":\r\n\t\t\tcase \"eot\":\r\n\t\t\tcase \"otf\":\r\n\t\t\t\treturn \"font\"\r\n\t\t\tcase \"swf\":\r\n\t\t\t\treturn \"flash\"\r\n\t\t\tcase \"map\":\r\n\t\t\t\treturn \"source-map\"\r\n\t\t}\r\n\t}\r\n\tif(initiatorType){\r\n\t\tswitch(initiatorType){\r\n\t\t\tcase \"xmlhttprequest\" :\r\n\t\t\t\treturn \"ajax\"\r\n\t\t\tcase \"img\" :\r\n\t\t\t\treturn \"image\"\r\n\t\t\tcase \"script\" :\r\n\t\t\t\treturn \"js\"\r\n\t\t\tcase \"internal\" :\r\n\t\t\tcase \"iframe\" :\r\n\t\t\t\treturn \"html\" //actual page\r\n\t\t\tdefault :\r\n\t\t\t\treturn \"other\"\r\n\t\t}\r\n\t}\r\n\treturn initiatorType;\r\n};\r\n\r\nhelper.getRandomColor = (baseRangeRed, baseRangeGreen, baseRangeBlue) => {\r\n\tconst range = [\r\n\t\tbaseRangeRed||\"0123456789ABCDEF\",\r\n\t\tbaseRangeGreen||\"0123456789ABCDEF\",\r\n\t\tbaseRangeBlue||\"0123456789ABCDEF\"\r\n\t];\r\n\tlet color = \"#\",\r\n\t\tr = 0;\r\n\r\n\tfor (let i = 0; i < 6; i++){\r\n\t\tr = Math.floor(i/2);\r\n\t\tcolor += range[r].split(\"\")[Math.floor(Math.random() * range[r].length)];\r\n\t}\r\n\treturn color;\r\n};\r\n\r\nhelper.endsWith = (str, suffix) => {\r\n\treturn str.indexOf(suffix, str.length - suffix.length) !== -1;\r\n};\r\n\r\nconst getColourVariation = (hexColour, variation) => {\r\n\tconst r = ((parseInt(hexColour.substr(1,2), 16)) + variation).toString(16),\r\n\t\tg = ((parseInt(hexColour.substr(3,2), 16)) + variation).toString(16),\r\n\t\tb = ((parseInt(hexColour.substr(5,2), 16)) + variation).toString(16);\r\n\treturn \"#\" + r + g + b;\r\n}\r\n\r\nhelper.getInitiatorOrFileTypeColour = (initiatorOrFileType, fallbackColour, variation) => {\r\n\tlet colour = fallbackColour||\"#bebebe\"; //default\r\n\r\n\t//colour the resources by initiator or file type\r\n\tswitch(initiatorOrFileType) {\r\n\t\tcase \"css\" : colour = \"#afd899\"; break;\r\n\t\tcase \"iframe\" :\r\n\t\tcase \"html\" : colour = \"#85b3f2\"; break;\r\n\t\tcase \"img\" :\r\n\t\tcase \"image\" : colour = \"#bc9dd6\"; break;\r\n\t\tcase \"script\" :\r\n\t\tcase \"js\" : colour = \"#e7bd8c\"; break;\r\n\t\tcase \"link\" : colour = \"#89afe6\"; break;\r\n\t\tcase \"swf\" : colour = \"#4db3ba\"; break;\r\n\t\tcase \"font\" : colour = \"#e96859\"; break; //TODO check if this works\r\n\t\tcase \"xmlhttprequest\" :\r\n\t\tcase \"ajax\" : colour = \"#e7d98c\"; break;\r\n\t}\r\n\tif(variation === true){\r\n\t\treturn getColourVariation(colour, -5);\r\n\t}\r\n\treturn colour;\r\n};\r\n\r\n//counts occurrences of items in array arr and returns them as array of key valure pairs\r\n//keyName overwrites the name of the key attribute\r\nhelper.getItemCount = (arr, keyName) => {\r\n\tlet counts = {},\r\n\t\tresultArr = [],\r\n\t\tobj;\r\n\r\n\tarr.forEach((key) => {\r\n\t\tcounts[key] = counts[key] ? counts[key]+1 : 1;\r\n\t});\r\n\r\n\t//pivot data\r\n\tfor(let fe in counts){\r\n\t\tobj = {};\r\n\t\tobj[keyName||\"key\"] = fe;\r\n\t\tobj.count = counts[fe];\r\n\r\n\t\tresultArr.push(obj);\r\n\t}\r\n\treturn resultArr.sort((a, b) => {\r\n\t\treturn a.count < b.count ? 1 : -1;\r\n\t});\r\n};\r\n\r\nhelper.clone = (obj) => {\r\n\tlet copy;\r\n\r\n\t// Handle the 3 simple types, and null or undefined\r\n\tif (null == obj || \"object\" != typeof obj) return obj;\r\n\r\n\t// Handle Date\r\n\tif (obj instanceof Date) {\r\n\t\tcopy = new Date();\r\n\t\tcopy.setTime(obj.getTime());\r\n\t\treturn copy;\r\n\t}\r\n\r\n\t// Handle Array\r\n\tif (obj instanceof Array) {\r\n\t\tcopy = [];\r\n\t\tfor (let i = 0, len = obj.length; i < len; i++) {\r\n\t\t\tcopy[i] = helper.clone(obj[i]);\r\n\t\t}\r\n\t\treturn copy;\r\n\t}\r\n\r\n\t// Handle Object\r\n\tif (obj instanceof Object) {\r\n\t\tcopy = {};\r\n\t\tfor (let attr in obj) {\r\n\t\t\tif (obj.hasOwnProperty(attr)) copy[attr] = helper.clone(obj[attr]);\r\n\t\t}\r\n\t\treturn copy;\r\n\t}\r\n\r\n\tthrow new Error(\"Unable to helper.clone obj\");\r\n};\r\n\r\nexport default helper;\r\n"],"file":"helpers.js"}